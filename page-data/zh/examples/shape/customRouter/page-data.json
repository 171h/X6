{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-site-templates-example-tsx","path":"/zh/examples/shape/customRouter","result":{"data":{"site":{"siteMetadata":{"title":"X6","examples":[{"slug":"shape","icon":"shape","title":{"zh":"元素","en":"Shape"}},{"slug":"interaction","icon":"interaction","title":{"zh":"交互","en":"Interaction"}},{"slug":"net","icon":"net","title":{"zh":"一般图","en":"General Graph"}},{"slug":"tree","icon":"tree","title":{"zh":"树图","en":"Tree Graph"}},{"slug":"animation","icon":"scatter","title":{"zh":"动画","en":"Animation"}},{"slug":"tool","icon":"tool","title":{"zh":"组件","en":"Component"}}],"playground":{"container":null,"playgroundDidMount":null,"playgroundWillUnmount":null,"dependencies":null,"htmlCodeTemplate":null}},"pathPrefix":""},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/en/examples/gallery"},"frontmatter":{"title":"Gallery","order":-1,"icon":"other"},"parent":{"__typename":"File","relativePath":"gallery/index.en.md"}}},{"node":{"fields":{"slug":"/zh/examples/gallery"},"frontmatter":{"title":"所有图表","order":-1,"icon":"other"},"parent":{"__typename":"File","relativePath":"gallery/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/interaction/updateEdge"},"frontmatter":{"title":"动态更新边","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"interaction/updateEdge/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/nodes"},"frontmatter":{"title":"内置节点","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"shape/nodes/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/tool/scroller"},"frontmatter":{"title":"滚动画布","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"tool/scroller/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/tree/mindmap"},"frontmatter":{"title":"脑图树","order":1,"icon":null},"parent":{"__typename":"File","relativePath":"tree/mindmap/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/interaction/embeding"},"frontmatter":{"title":"节点嵌入","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"interaction/embeding/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/edges"},"frontmatter":{"title":"内置边","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"shape/edges/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/tool/snapline"},"frontmatter":{"title":"对齐线","order":2,"icon":null},"parent":{"__typename":"File","relativePath":"tool/snapline/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/interaction/expand"},"frontmatter":{"title":"展开与收起","order":3,"icon":null},"parent":{"__typename":"File","relativePath":"interaction/expand/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/marker"},"frontmatter":{"title":"内置箭头","order":3,"icon":null},"parent":{"__typename":"File","relativePath":"shape/marker/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/interaction/ports"},"frontmatter":{"title":"连接桩交互","order":4,"icon":null},"parent":{"__typename":"File","relativePath":"interaction/ports/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/connector"},"frontmatter":{"title":"连接器","order":4,"icon":null},"parent":{"__typename":"File","relativePath":"shape/connector/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/router"},"frontmatter":{"title":"内置路由","order":5,"icon":null},"parent":{"__typename":"File","relativePath":"shape/router/index.zh.md"}}},{"node":{"fields":{"slug":"/zh/examples/shape/customRouter"},"frontmatter":{"title":"自定义路由","order":7,"icon":null},"parent":{"__typename":"File","relativePath":"shape/customRouter/index.zh.md"}}}]}},"pageContext":{"allDemos":[{"relativePath":"interaction/embeding/demo/embed.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/interaction/embeding/demo/embed.ts","order":0,"filename":"embed.ts","title":{"zh":"节点嵌入","en":"Node Embending"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*SEp0Sb7NrMUAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"节点嵌入","order":202}}},{"relativePath":"interaction/expand/demo/expand.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/interaction/expand/demo/expand.ts","order":0,"filename":"expand.ts","title":{"zh":"展开与收起","en":"Expand And Fold"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*HcLnTLEsOU4AAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"展开与收起","order":203}}},{"relativePath":"interaction/ports/demo/validateConnection.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/interaction/ports/demo/validateConnection.ts","order":0,"filename":"validateConnection.ts","title":{"zh":"验证连接","en":"Validate Connection"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*sgJrRp63Tx0AAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"连接桩交互","order":204}}},{"relativePath":"shape/connector/demo/jumpover.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/connector/demo/jumpover.ts","order":0,"filename":"jumpover.ts","title":{"zh":"跳线连接器","en":"JumpOver Connector"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*wT7jQbXyWMMAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"连接器","order":104}}},{"relativePath":"shape/connector/demo/wobble.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/connector/demo/wobble.ts","order":1,"filename":"wobble.ts","title":{"zh":"自定义连接器","en":"Custom Connector"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*aHBGSqLpuxEAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"连接器","order":104}}},{"relativePath":"shape/customRouter/demo/router.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/customRouter/demo/router.ts","order":0,"filename":"router.ts","title":{"zh":"随机路由","en":"Random Router"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*F2a6T7KDNDcAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"自定义路由","order":107}}},{"relativePath":"shape/edges/demo/edge.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/edges/demo/edge.ts","order":0,"filename":"edge.ts","title":{"zh":"默认边","en":"Default Edge"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*0dmTSbR1tXgAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置边","order":102}}},{"relativePath":"interaction/updateEdge/demo/multi.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/interaction/updateEdge/demo/multi.ts","order":0,"filename":"multi.ts","title":{"zh":"动态设置顶点","en":"Dynamic Vertex"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*4CFARJ6cqBsAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"动态更新边","order":201}}},{"relativePath":"shape/marker/demo/marker.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/marker/demo/marker.ts","order":0,"filename":"marker.ts","title":{"zh":"内置箭头","en":"Marker"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*aM9nRo9pJqQAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置箭头","order":103}}},{"relativePath":"shape/nodes/demo/circle.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/nodes/demo/circle.ts","order":2,"filename":"circle.ts","title":{"zh":"圆形","en":"Circle"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*NmA4T4g-mtoAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置节点","order":101}}},{"relativePath":"shape/nodes/demo/ellipse.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/nodes/demo/ellipse.ts","order":1,"filename":"ellipse.ts","title":{"zh":"椭圆","en":"Ellipse"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*_JLoQLqc-w8AAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置节点","order":101}}},{"relativePath":"shape/nodes/demo/html.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/nodes/demo/html.ts","order":4,"filename":"html.ts","title":{"zh":"HTML","en":"HTML"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*NCDiSr2QOjgAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置节点","order":101}}},{"relativePath":"shape/nodes/demo/image.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/nodes/demo/image.ts","order":3,"filename":"image.ts","title":{"zh":"图片","en":"Image"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*YmP5Q5fww5cAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置节点","order":101}}},{"relativePath":"shape/nodes/demo/rect.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/nodes/demo/rect.ts","order":0,"filename":"rect.ts","title":{"zh":"矩形","en":"Rectangle"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*FemfTZ4c1MoAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置节点","order":101}}},{"relativePath":"shape/router/demo/orth.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/router/demo/orth.ts","order":0,"filename":"orth.ts","title":{"zh":"正交路由","en":"Orth Router"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*YulsS6FVHtYAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"内置路由","order":105}}},{"relativePath":"tool/snapline/demo/snapline.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/tool/snapline/demo/snapline.ts","order":0,"filename":"snapline.ts","title":{"zh":"对齐线","en":"Snapline"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*AABsRIDATzEAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"对齐线","order":602}}},{"relativePath":"tree/mindmap/demo/tree.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/tree/mindmap/demo/tree.ts","order":0,"filename":"tree.ts","title":{"zh":"脑图树","en":"Mindmap"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*bZ3tTITjafsAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"脑图树","order":401}}},{"relativePath":"tool/scroller/demo/scroller.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/tool/scroller/demo/scroller.ts","order":0,"filename":"scroller.ts","title":{"zh":"滚动画布","en":"Scroller"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*b1dwRYukeCMAAAAAAAAAAAAAARQnAQ","postFrontmatter":{"zh":{"title":"滚动画布","order":601}}}],"exampleSections":{"examples":[{"relativePath":"shape/customRouter/demo/router.ts","absolutePath":"/home/runner/work/X6/X6/sites/x6-sites/examples/shape/customRouter/demo/router.ts","order":0,"filename":"router.ts","title":{"zh":"随机路由","en":"Random Router"},"screenshot":"https://gw.alipayobjects.com/mdn/rms_43231b/afts/img/A*F2a6T7KDNDcAAAAAAAAAAAAAARQnAQ","source":"import { Graph, Point, Registry } from '@antv/x6'\n\nif (!Registry.Router.registry.exist('random')) {\n  Graph.registerRouter('random', (vertices, args, view) => {\n    const BOUNCES = args.bounces || 20\n    const points = vertices.map((p) => Point.create(p))\n\n    for (var i = 0; i < BOUNCES; i++) {\n      const sourceCorner = view.sourceBBox.getCenter()\n      const targetCorner = view.targetBBox.getCenter()\n      const randomPoint = Point.random(\n        sourceCorner.x,\n        targetCorner.x,\n        sourceCorner.y,\n        targetCorner.y,\n      )\n      points.push(randomPoint)\n    }\n\n    return points\n  })\n}\n\nconst container = document.getElementById('container')!\nconst graph = new Graph({\n  container: container,\n  grid: 10,\n})\n\nconst source = graph.addNode({\n  x: 50,\n  y: 50,\n  width: 120,\n  height: 80,\n  attrs: { label: { text: 'Source' } },\n})\n\nconst target = graph.addNode(\n  source.clone().translate(600, 400).attr('label/text', 'Target'),\n)\n\ngraph.addEdge({\n  source,\n  target,\n  router: {\n    name: 'random',\n    args: {\n      bounces: 10,\n    },\n  },\n})\n","babeledSource":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"@antv/x6\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require(\"@antv/x6\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.x6);\n    global.router = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_x) {\n  \"use strict\";\n\n  if (!_x.Registry.Router.registry.exist('random')) {\n    _x.Graph.registerRouter('random', function (vertices, args, view) {\n      var BOUNCES = args.bounces || 20;\n      var points = vertices.map(function (p) {\n        return _x.Point.create(p);\n      });\n\n      for (var i = 0; i < BOUNCES; i++) {\n        var sourceCorner = view.sourceBBox.getCenter();\n        var targetCorner = view.targetBBox.getCenter();\n\n        var randomPoint = _x.Point.random(sourceCorner.x, targetCorner.x, sourceCorner.y, targetCorner.y);\n\n        points.push(randomPoint);\n      }\n\n      return points;\n    });\n  }\n\n  var container = document.getElementById('container');\n  var graph = new _x.Graph({\n    container: container,\n    grid: 10\n  });\n  var source = graph.addNode({\n    x: 50,\n    y: 50,\n    width: 120,\n    height: 80,\n    attrs: {\n      label: {\n        text: 'Source'\n      }\n    }\n  });\n  var target = graph.addNode(source.clone().translate(600, 400).attr('label/text', 'Target'));\n  graph.addEdge({\n    source: source,\n    target: target,\n    router: {\n      name: 'random',\n      args: {\n        bounces: 10\n      }\n    }\n  });\n});"}]},"description":""}},"staticQueryHashes":["1015175297","2195934284","3000541721","3000541721","653731124"]}