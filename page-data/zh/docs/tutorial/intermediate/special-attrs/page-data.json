{"componentChunkName":"component---node-modules-antv-gatsby-theme-antv-site-templates-document-tsx","path":"/zh/docs/tutorial/intermediate/special-attrs","result":{"data":{"site":{"siteMetadata":{"title":"X6","githubUrl":"https://github.com/antvis/x6/tree/master/packages/x6-sites","docs":[{"slug":"tutorial/basic","title":{"zh":"基础教程","en":"Basic"},"order":2},{"slug":"tutorial/intermediate","title":{"zh":"进阶实践","en":"Intermediate"},"order":3},{"slug":"tutorial/advanced","title":{"zh":"高级指引","en":"Advanced"},"order":4},{"slug":"tutorial/faq","title":{"zh":"常见问题","en":"FQA"},"order":5},{"slug":"api/model","title":{"zh":"Model","en":"Model"},"order":3},{"slug":"api/view","title":{"zh":"View","en":"View"},"order":5},{"slug":"api/registry","title":{"zh":"Registry","en":"Registry"},"order":7}]},"pathPrefix":""},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在之前的基础教程中我们介绍了"},{"type":"element","tagName":"a","properties":{"href":"../basic/cell#attrs-1"},"children":[{"type":"text","value":"如何通过 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attrs"}]},{"type":"text","value":" 定制样式"}]},{"type":"text","value":"，同时在"},{"type":"element","tagName":"a","properties":{"href":"../basic/edge#%E4%BD%BF%E7%94%A8%E7%AE%AD%E5%A4%B4-marker"},"children":[{"type":"text","value":"使用箭头教程"}]},{"type":"text","value":"中看到了 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sourceMarker"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"targetMarker"}]},{"type":"text","value":" 两个特殊属性的强大作用，并了解到 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"attrs"}]},{"type":"text","value":" 对象在"},{"type":"element","tagName":"a","properties":{"href":"../basic/node#%E5%AE%9A%E5%88%B6%E6%A0%B7%E5%BC%8F-attrs"},"children":[{"type":"text","value":"节点样式"}]},{"type":"text","value":"、"},{"type":"element","tagName":"a","properties":{"href":"../basic/edge#%E5%AE%9A%E5%88%B6%E6%A0%B7%E5%BC%8F-attrs"},"children":[{"type":"text","value":"边样式"}]},{"type":"text","value":"、"},{"type":"element","tagName":"a","properties":{"href":"./edge-labels#%E6%A0%87%E7%AD%BE%E6%A0%B7%E5%BC%8F"},"children":[{"type":"text","value":"标签样式"}]},{"type":"text","value":"等多处被广泛使用，所以有必要对属性相关概念作更详细的介绍。对于原生 SVG 属性，网上有很多教程可以参考，例如 MDN 提供的 "},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute"},"children":[{"type":"text","value":"SVG 属性参考"}]},{"type":"text","value":"，这里我们将更多聚焦到如何定义和使用特殊属性。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"特殊属性提供了比"},{"type":"element","tagName":"a","properties":{"href":"https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute"},"children":[{"type":"text","value":"原生 SVG 属性"}]},{"type":"text","value":"更加灵活和强大的功能，在应用属性时，原生属性被直接传递给对应的元素，特殊属性则被进一步加工处理，转换为浏览器认识的原生属性后，再传递给对应的元素。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"特殊属性是一些特定于jointjs的属性，提供了比原生SVG属性更强大的功能。在讨论元素样式时，我们已经提到了它们，并在添加链接箭头时看到了它们的作用。当我们谈到创建自定义元素、链接和链接标签时，它们变得更加重要。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在JointJS中，定义图表元素、链接和标签样式的主要方法是通过attrs对象。如果传递的属性是标准的SVG属性，它们仅仅传递给形状的单个SVGElements;然后是浏览器的工作，将它们应用到元素上，并在被JointJS视图类要求时以所请求的方式呈现形状。然而，如果联合js遇到了它的一个特殊属性，它会接管自定义逻辑，以提供先进的功能;然后将结果编码为标准SVG属性。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"所有的JointJS特殊属性都使用camelCase命名。因此，为了保持一致性，我们强烈建议您使用JointJS将camelCase转换为本地SVG的烤肉串大小写的能力，并且在设置本地SVG属性时也使用camelCase(即strokeWidth而不是本地的“stroke-width”)。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"本地SVG属性列表可以在互联网上的其他地方找到;看看，例如，在MDN的SVG属性参考。在本节教程中，我们想向你展示一下JointJS还能让你做些什么。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"自定义特殊属性"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"内置特殊属性"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"相对大小"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在定制节点或边的样式时，一个常见需求就是设置相对大小，我们在 X6 中提供了一系列以 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ref"}]},{"type":"text","value":" 为前缀特殊属性，来为元素设置相对大小，同时这些属性的计算都是基于节点/边的原始数据，所有计算都不依赖浏览器的 bbox 计算，所以不会有任何性能问题。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refWidth"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refHeight"}]},{"type":"text","value":" "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refX"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refY"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refCx"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refCy"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refRx"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refRy"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"refR"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"tableOfContents":"<ul>\n<li><a href=\"/zh/docs/tutorial/intermediate/special-attrs/#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7\">自定义特殊属性</a></li>\n<li>\n<p><a href=\"/zh/docs/tutorial/intermediate/special-attrs/#%E5%86%85%E7%BD%AE%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7\">内置特殊属性</a></p>\n<ul>\n<li><a href=\"/zh/docs/tutorial/intermediate/special-attrs/#%E7%9B%B8%E5%AF%B9%E5%A4%A7%E5%B0%8F\">相对大小</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/zh/docs/tutorial/intermediate/special-attrs","readingTime":{"text":"1 min read","time":16200.000000000004}},"frontmatter":{"title":"特殊属性"},"parent":{"__typename":"File","relativePath":"tutorial/intermediate/special-attrs.zh.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/zh/docs/tutorial/about"},"frontmatter":{"title":"简介","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/graph"},"frontmatter":{"title":"Graph","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/registry/attr"},"frontmatter":{"title":"Attr","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/registry/port-label-layout"},"frontmatter":{"title":"PortLabelLayout","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/registry/port-layout"},"frontmatter":{"title":"PortLayout","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/view/view"},"frontmatter":{"title":"View","order":0}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/cell"},"frontmatter":{"title":"基类 Cell","order":0}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/graph"},"frontmatter":{"title":"画布 Graph","order":0}}},{"node":{"fields":{"slug":"/zh/docs/api/model/cell"},"frontmatter":{"title":"Cell","order":0}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/getting-started"},"frontmatter":{"title":"快速上手","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/model/node"},"frontmatter":{"title":"Node","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/view/cellview"},"frontmatter":{"title":"CellView","order":1}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/node"},"frontmatter":{"title":"节点 Node","order":1}}},{"node":{"fields":{"slug":"/zh/docs/api/model/edge"},"frontmatter":{"title":"Edge","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/view/nodeview"},"frontmatter":{"title":"NodeView","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/advanced/animation"},"frontmatter":{"title":"使用动画","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/advanced/html-shape"},"frontmatter":{"title":"使用 HTML 节点","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/advanced/react-shape"},"frontmatter":{"title":"使用 React 节点","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/edge"},"frontmatter":{"title":"边 Edge","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/connector"},"frontmatter":{"title":"连接器 Connector","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/custom-edge"},"frontmatter":{"title":"自定义边","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/custom-node"},"frontmatter":{"title":"自定义节点","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/events"},"frontmatter":{"title":"事件系统","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/edge-labels"},"frontmatter":{"title":"使用标签 Labels","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/marker"},"frontmatter":{"title":"使用箭头 Marker","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/serialization"},"frontmatter":{"title":"数据导出 Serialization","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/router"},"frontmatter":{"title":"路由 Router","order":2}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/intermediate/special-attrs"},"frontmatter":{"title":"特殊属性","order":2}}},{"node":{"fields":{"slug":"/zh/docs/api/model/model"},"frontmatter":{"title":"Model","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/model/shape"},"frontmatter":{"title":"内置节点和边","order":3}}},{"node":{"fields":{"slug":"/zh/docs/api/view/edgeview"},"frontmatter":{"title":"EdgeView","order":3}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/group"},"frontmatter":{"title":"群组 Group","order":3}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/port"},"frontmatter":{"title":"连接桩 Port","order":3}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/grid"},"frontmatter":{"title":"网格 Grid","order":4}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/background"},"frontmatter":{"title":"背景 Background","order":5}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/clipboard"},"frontmatter":{"title":"剪切板 Clipboard","order":6}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/history"},"frontmatter":{"title":"撤销/重做 Redo/Undo","order":7}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/selection"},"frontmatter":{"title":"点选/框选 Selection","order":8}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/snapline"},"frontmatter":{"title":"对齐线 Snapline","order":9}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/contact"},"frontmatter":{"title":"联系我们","order":10}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/scroller"},"frontmatter":{"title":"滚动 Scroller","order":10}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/minimap"},"frontmatter":{"title":"小地图 MiniMap","order":11}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/keyboard"},"frontmatter":{"title":"键盘快捷键 Keyboard","order":12}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/basic/mousewheel"},"frontmatter":{"title":"滚轮缩放 MouseWheel","order":13}}},{"node":{"fields":{"slug":"/zh/docs/tutorial/faq/epilog"},"frontmatter":{"title":"","order":null}}}]}},"pageContext":{}}}